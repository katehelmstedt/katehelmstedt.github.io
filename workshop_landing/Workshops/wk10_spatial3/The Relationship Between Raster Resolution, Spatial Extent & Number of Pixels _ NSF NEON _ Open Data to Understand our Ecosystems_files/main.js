var neon={};(function($,window,document,neon){"use strict";hljs.configure({languages:["r","python","matlab","xml","yaml","markdown"]});hljs.initHighlightingOnLoad();$.fn.expandable=function(){this.addClass("is-collapsed transition-collapsed--complete").find(".block--expands-trigger").on("click",function(e){var $this=$(this),$parent=$this.parents(".block--expands");$parent.toggleClass("is-expanded is-collapsed");$this.next().bind("transitionend webkitTransitionEnd",function(){if($parent.hasClass("is-expanded")){$parent.removeClass("transition-collapsed--complete").addClass("transition-expand--complete")}else{$parent.removeClass("transition-expand--complete").addClass("transition-collapsed--complete")}});e.stopPropagation()})};neon={init:function(){neon.mainMenu();neon.expandSearch();neon.switchViewStyle(".view-display-id-page_update_event");var amountScrolled=300;neon.backToTop(amountScrolled);FastClick.attach(document.body);neon.adminMenuFix();neon.scrollnav();$(window).on({load:function(){neon.equalHeight(".even-heights .box--padding")},resize:function(){neon.equalHeight(".even-heights .box--padding")}});$(".menu-name-main-menu .depth--3 > .nav--main").parent().addClass("hasFourthDepth");$(".menu-name-main-menu .depth--3 > .nav--main").parent().click(function(evt){$(this).toggleClass("depthFourIsExpanded").find("> .nav--main").slideToggle(200)});$(".menu-name-main-menu .depth--3 .nav-link").click(function(evt){evt.stopPropagation()});if($(window).width()>1024){$(".menu-name-main-menu.menu-level-1 > .nav--main").prepend('<li class="home-link-item"><a href="/" class="home-link"><span class="hideText">Home</span></a></li>')}$("#branding > .branding-link").click(function(evt){if($(window).width()>1024){evt.preventDefault()}})},mainMenu:function(){var $mainMenu=$("#main-menu"),$link=$mainMenu.find(".nav-link"),$mainMenuTrigger=$("#mobile-menu-trigger");$link.each(function(){var $this=$(this);if($this.next().hasClass("nav--dropdown")){$this.after('               <span class="nav--dropdown--trigger">                 <span class="nav--dropdown--indicator icon--plus"></span>               </span>             ')}});neon.sizeDropdownTriggers($mainMenu);$link.closest(".nav--dropdown").addClass("is-collapsed").find(".nav--dropdown--trigger").on("click",function(e){var $this=$(this),$parent=$this.parent(),$collapsable=$this.next(),$indicator=$this.find(".nav--dropdown--indicator");$collapsable.toggleClass("is-expanded is-collapsed");if($collapsable.hasClass("is-expanded")){$parent.addClass("is-expanded").removeClass("is-collapsed");$indicator.addClass("icon--minus").removeClass("icon--plus")}else{$parent.addClass("is-collapsed").removeClass("is-expanded");$indicator.addClass("icon--plus").removeClass("icon--minus")}e.stopPropagation()});$mainMenu.find(".depth--1 > .nav-link").on("mouseenter",function(e){neon.sizeDropdownTriggers($mainMenu);neon.menuEdgeDetection($(this).parent().find("> ul"),e)});$mainMenuTrigger.on("click",function(e){$mainMenu.toggleClass("is-expanded")});$(window).on("resize",function(){neon.sizeDropdownTriggers($mainMenu)})},sizeDropdownTriggers:function(parentEl){parentEl.find(".nav-link + .nav--dropdown--trigger").each(function(){var $this=$(this);if($(window).width()>=1024){$this.css("height",$this.prev().outerHeight(false))}else{$this.css("height",$this.prev().outerHeight(false)-1)}})},menuEdgeDetection:function(menu,event){var menu=menu,mouseX=event.pageX+20,mouseY=event.pageY+20,menuWidth=menu.width(),menuHeight=menu.height(),menuVisX=$(window).width()-(mouseX+menuWidth),menuVisY=$(window).height()-(mouseY+menuHeight);if(menuVisX<20){menu.addClass("nav--dropdown--right")}else{menu.removeClass("nav--dropdown--right")}},expandSearch:function(){$(".search-box").find(".form-item .field-suffix").on("click",function(){var $this=$(this),$field=$this.prev();if($("body").hasClass("front")){if($(window).width()<1e3){$field.toggleClass("is-expanded")}}else{$field.toggleClass("is-expanded")}})},backToTop:function(amountScrolled){if($(window).width()>=768){$(window).scroll(function(){if($(window).scrollTop()>amountScrolled){$("a#back-to-top").fadeIn("slow")}else{$("a#back-to-top").fadeOut("slow")}})}$("a#back-to-top").click(function(){$("html, body").animate({scrollTop:0},700);return false})},switchViewStyle:function(view){if($(view).length==0){return false}if(Cookies.get("updates_and_events_view_mode")=="grid"){toggleListGridView("grid")}$(document).ajaxComplete(function(){if(Cookies.get("updates_and_events_view_mode")=="grid"){toggleListGridView("grid")}});$(".style-switcher").on("click",function(){var style=$(this).data("style");toggleListGridView(style)});function toggleListGridView(style){$(".style-switcher").removeClass("active");var item=$('.style-switcher[data-style="'+style+'"]');$(item).addClass("active");if(style=="grid"){$(view).removeClass("view-style-list").addClass("view-style-grid");$(view+" .views-row").matchHeight({byRow:true});Cookies.set("updates_and_events_view_mode","grid")}else if(style=="list"){$(view).removeClass("view-style-grid").addClass("view-style-list");$(view+" .views-row").matchHeight({remove:true});Cookies.set("updates_and_events_view_mode","list")}}},scrollnav:function(){var $sidebar_width=$(".ds-right-container").width();$(".group-scrollnav-container").width($sidebar_width);var headings_context=$(".node-type-ds-workshop, .node-type-ds-module");var headings_exclude=[".field--field-dsp-tutorial h2",".field--field-dsp-series h2",".field--field-dsp-teaching h2",".field--field-dsp-resource h2",".comment-wrapper h2"];var $headings_1=$(".ds-left-container h2",headings_context).not(headings_exclude.join(",")).not(".paragraphs-items-field-ds-lesson-plan h2").addClass("sn-item");var $headings_2=$(".ds-left-container .paragraphs-items-field-ds-lesson-plan-full h2",headings_context).not(headings_exclude.join(",")).addClass("sn-item");var snParams={sections:"h2.sn-item",sectionElem:"div",clickClass:"scroll-nav__link",showHeadline:false,headlineText:"",showTopLink:false,topLinkText:"",fixedMargin:140,scrollOffset:40,animated:true,speed:500,insertLocation:"appendTo",arrowKeys:true,scrollToHash:true,onInit:null,onRender:null,onDestroy:null};var snParams_1=snParams;snParams_1.insertTarget="div.field--field-ds-overview-label";$(".ds-left-container .paragraphs-items-field-ds-body-full").scrollNav(snParams_1);var snParams_2=snParams;snParams_2.scrollNav="scrollNavLP";snParams_2.insertTarget="div.field--custom-text-field";$(".ds-left-container .paragraphs-items-field-ds-lesson-plan").scrollNav(snParams_2);$(".paragraphs-items-field-ds-lesson-plan .field--node-link a").attr("target","_blank");if($(".node-type-ds-series").length){$(".ds-left-container .field--field-ds-overview-label").prependTo(".ds-left-container .paragraphs-items-field-ds-body-reset-layout").addClass("field-label")}if($(".node-type-ds-tutorial").length){$(".ds-left-container .field--field-ds-overview-label").prependTo(".ds-left-container .field--body").addClass("field-label")}$(".node-type-ds-tutorial .ds-left-container").scrollNav({sections:".field-label",subSections:"h2",sectionElem:"div",className:"scroll-nav-series",clickClass:"scroll-nav-series__sub-link",showHeadline:false,headlineText:"",showTopLink:false,topLinkText:"",fixedMargin:140,scrollOffset:40,animated:true,speed:500,insertTarget:"div.group-scroll-navigation",insertLocation:"appendTo",arrowKeys:true,scrollToHash:true,onInit:null,onRender:null,onDestroy:null});$(".node-type-ds-series .ds-left-container").scrollNav({sections:".field-label",subSections:"h2",sectionElem:"div",className:"scroll-nav-series",clickClass:"scroll-nav-series__sub-link",showHeadline:false,headlineText:"",showTopLink:false,topLinkText:"",fixedMargin:140,scrollOffset:40,animated:true,speed:500,insertTarget:"div.group-scroll-navigation",insertLocation:"appendTo",arrowKeys:true,scrollToHash:true,onInit:null,onRender:null,onDestroy:null});$(".node-type-ds-series .ds-left-container .paragraphs-items-field-ds-body-full").scrollNav({sections:"h2",sectionElem:"div",clickClass:"scroll-nav__link",showHeadline:false,headlineText:"",showTopLink:false,topLinkText:"",fixedMargin:140,scrollOffset:40,animated:true,speed:500,insertTarget:"div.field--field-ds-overview-label",insertLocation:"appendTo",arrowKeys:true,scrollToHash:true,onInit:null,onRender:null,onDestroy:null});if($(".ds-full-container").length){$(".group-scroll-navigation .scrollnav-wrapper-main").find(".scroll-nav-first").append('<i class="fa fa fa-angle-up"></i>');$(".group-scroll-navigation .scrollnav-wrapper-secondary").removeClass("active-wrapper").find(".scroll-nav-first").append('<i class="fa fa fa-angle-up fa-rotate-180"></i>');$(".group-scrollnav-container").on("click",".group-scroll-navigation .scrollnav-wrapper-main .scroll-nav-first",function(){if($(this).closest(".scrollnav-wrapper-main").hasClass("active-wrapper")){$(this).closest(".scrollnav-wrapper-main").removeClass("active-wrapper");$(this).find("i").addClass("fa-rotate-180")}else{$(".group-scroll-navigation .scrollnav-wrapper-secondary").removeClass("active-wrapper");$(".group-scroll-navigation .scrollnav-wrapper-secondary .scroll-nav-first i").addClass("fa-rotate-180");$(this).closest(".scrollnav-wrapper-main").addClass("active-wrapper");$(this).find("i").removeClass("fa-rotate-180")}});$(".group-scrollnav-container").on("click",".group-scroll-navigation .scrollnav-wrapper-secondary .scroll-nav-first",function(){if($(this).closest(".scrollnav-wrapper-secondary").hasClass("active-wrapper")){$(this).closest(".scrollnav-wrapper-secondary").removeClass("active-wrapper");$(this).find("i").addClass("fa-rotate-180")}else{$(".group-scroll-navigation .scrollnav-wrapper-main").removeClass("active-wrapper");$(".group-scroll-navigation .scrollnav-wrapper-secondary").removeClass("active-wrapper");$(".group-scroll-navigation .scroll-nav-first i").addClass("fa-rotate-180");$(this).closest(".scrollnav-wrapper-secondary").addClass("active-wrapper");$(this).find("i").removeClass("fa-rotate-180")}});$(".ds-left-container .paragraphs-items-field-ds-lesson-plan-full").hide();$(".group-scroll-navigation .scrollnav-wrapper>div").on("click",function(){var $this=$(this);if($this.closest(".scrollnav-wrapper").hasClass("field--field-ds-overview-label")){$(".ds-left-container .paragraphs-items-field-ds-lesson-plan-full").hide();$(".ds-left-container .paragraphs-items-field-ds-body-full").show();if(!$this.closest(".scrollnav-wrapper").hasClass("active-wrapper")){var scrTo=$("body");scrollToFirstItem(scrTo,0)}}if($this.closest(".scrollnav-wrapper").hasClass("field--custom-text-field")){$(".ds-left-container .paragraphs-items-field-ds-body-full").hide();$(".ds-left-container .paragraphs-items-field-ds-lesson-plan-full").show();if(!$this.closest(".scrollnav-wrapper").hasClass("active-wrapper")){var scrTo=$(".ds-left-container .paragraphs-items-field-ds-lesson-plan-full");scrollToFirstItem(scrTo,0)}}})}if($(".node-type-ds-series, .node-type-ds-tutorial").length){var tutorialItems=$(".ds-left-container .field--field-tutorials>div.node-ds-tutorial").length;$(".ds-left-container .field--field-tutorials>div.node-ds-tutorial").each(function(){$(this).hide()});$(".scroll-nav-series").find("a.scroll-nav-series__link").append('<i class="fa fa fa-angle-up"></i>');$(".scroll-nav-series .scroll-nav-series__list li:first").addClass("active-wrapper");$(".scroll-nav-series .scroll-nav-series__list li:not(:first) i.fa").addClass("fa-rotate-180");$(".group-scrollnav-container").on("click",".scroll-nav-series__item > a",function(e){e.preventDefault();var $this=$(this);var $href=$this.attr("href");if($this.closest("li").hasClass("active-wrapper")){$this.closest("li").removeClass("active-wrapper");$(this).find("i.fa-angle-up").addClass("fa-rotate-180")}else{if($href=="#scrollNav-1"){$(".ds-left-container .field--field-tutorials>div.node-ds-tutorial").each(function(){$(this).hide()});$(".ds-left-container .paragraphs-items-field-ds-body-reset-layout").show()}else{$(".ds-left-container .paragraphs-items-field-ds-body-reset-layout").hide();$(".ds-left-container .field--field-tutorials>div.node-ds-tutorial").each(function(){if("#"+$(this).find(".scroll-nav-series__section").attr("id")==$href){$(this).show()}else{$(this).hide()}})}$(".scroll-nav-series li.scroll-nav-series__item").removeClass("active-wrapper");$(".scroll-nav-series li.scroll-nav-series__item i").addClass("fa-rotate-180");$this.closest("li").addClass("active-wrapper");$this.find("i.fa-angle-up").removeClass("fa-rotate-180");var scrTo=$this.attr("href")=="#scrollNav-1"?$("body"):$this.attr("href");scrollToFirstItem(scrTo,0)}})}function scrollToFirstItem(scrTo,offset){if($(scrTo).length>0){var destination=$(scrTo).offset().top;$("html:not(:animated),body:not(:animated)").animate({scrollTop:destination-offset},500)}}},matchHeight:function(){$(".view-display-id-page_update_event.view-style-grid .views-row").matchHeight({byRow:true})},equalHeight:function(container){var currentTallest=0,currentRowStart=0,rowDivs=[],$el,topPosition=0,currentDiv=0;$(container).each(function(){$el=$(this);$el.height("auto");topPosition=$el.position().top;if(currentRowStart!==topPosition){for(currentDiv=0;currentDiv<rowDivs.length;currentDiv++){rowDivs[currentDiv].height(currentTallest)}rowDivs.length=0;currentRowStart=topPosition;currentTallest=$el.height();rowDivs.push($el)}else{rowDivs.push($el);currentTallest=currentTallest<$el.height()?$el.height():currentTallest}for(currentDiv=0;currentDiv<rowDivs.length;currentDiv++){rowDivs[currentDiv].height(currentTallest)}})},adminMenuFix:function(){if($("body").hasClass("admin-menu")){$(window).load(function(){neon.adminHeight()});$(window).resize(function(){neon.adminHeight()})}},adminHeight:function(){var $adminHeight=$("#admin-menu").height();$("body.admin-menu").attr("style","margin-top: "+$adminHeight+"px !important")}};$(document).ready(neon.init);Drupal.behaviors.neon={attach:function(context,settings){var sticky=$(".page-science-design-field-sites").stickem({item:".neon-map--filters",container:".view-field-sites"});$(window).trigger("scroll");this.relatedResources(context,settings)},relatedResources:function(context,settings){var $dialog=$("#dialog",context).dialog({autoOpen:false,width:"50%"});var $links=$("#block-views-related-resources-block .view .field-item a",context);$links.click(function(evt){var $self=$(this);if($self.attr("data-youtube-video")){evt.preventDefault();var video=$self.attr("data-youtube-video");video='<iframe width="100%" height="400" src="https://www.youtube.com/embed/'+video+'?rel=0&amp;autoplay=1&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>';$(".ui-dialog .ui-dialog-title",context).text($self.text());$dialog.html(video).dialog("open")}})}};$(document).ready(function(){$("#node-5277 table thead th").css("font-size","16px");if($("#edit-field-ds-workshop-dates-value-value-year").length>0){$("#edit-field-ds-workshop-dates-value-value-year option:first").text("Year")}})})(jQuery,window,window.document,neon);